# Java设计模式

## 什么是设计模式

> 在软件工程中，设计模式是对软件设计中普遍存在的各种问题，所提出的解决方案。
>
> 换句话说，设计模式是一套被反复使用、多数人知晓的、经过分类的、代码设计的经验的总结。使用设计模式是为了可重用代码，让代码更容易被他人理解，保证代码可靠性。

## 设计模式原则

**1、开闭原则（Open Close Principle）**

开闭原则的意思是：`对扩展开放，对修改封闭`。在程序需要进行扩展的时候，不能去修改或影响原有的代码，实现一个热插拔的效果。简言之，是为了使程序的扩展性更好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类。

**2、里氏代换原则（Liskov Substitution Principle）**

里氏代换原则是面向对象设计的基本原则之一。 里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。里氏代换原则是继承复用的基石，只有当子类可以替换掉基类，且软件单位的功能不受到影响时，基类才能真正被复用，而且子类也能够在基类的基础上增加新的行为。里氏代换原则是对开闭原则的补充。实现开闭原则的关键步骤就是抽象化，而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。

**3、依赖倒转原则（Dependence Inversion Principle）**

这个原则是开闭原则的基础，核心内容：针对接口编程，高层模块不应该依赖底层模块，二者都应该依赖抽象而不依赖于具体。

**4、接口隔离原则（Interface Segregation Principle）**

- [ ] 这个原则的意思是：使用多个隔离的接口，比使用单个庞大的接口要好。其目的在于降低耦合度。由此可见，其实设计模式就是从大型软件架构出发，便于升级和维护软件的设计思想。它强调**低依赖、低耦合**。

**5、单一职责原则（Single Responsibility Principle）**

类的职责要单一，不能将太多的职责放在一个类中。

可能有的人会觉得单一职责原则和前面的接口隔离原则很相似，其实不然。其一，单一职责原则原注重的是职责；而接口隔离原则注重对接口依赖的隔离。其二，单一职责原则主要约束的是类，其次才是接口和方法，它针对的是程序中的实现和细节；而接口隔离原则主要约束接口，主要针对抽象，针对程序整体框架的构建。

**6、最少知道原则（Demeter Principle）**

最少知道原则也叫迪米特法则，就是说：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立。

一个对象应该对其他对象保持最少的了解。类与类之间的关系越密切，耦合度越大，当一个类发生改变时，对另一个类的影响也越大。如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一个方法的话，可以通过第三者转发这个调用。所以在类的设计上，每一个类都应当尽量降低成员的访问权限。

**7、合成复用原则（Composite Reuse Principle）**

合成复用原则就是在一个新的对象里通过关联关系（组合关系、聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用功能的目的。简而言之，尽量多使用`组合/聚合`的方式，尽量少使用甚至不使用继承关系。

## 设计模式分类

![图片描述信息](https://doc.shiyanlou.com/userid46108labid863time1429495366116)

### **创建型模式**

#### 工厂模式

##### 什么是工厂模式

工厂模式（Factory Pattern）的意义就跟它的名字一样，在面向对象程序设计中，工厂通常是一个用来创建其他对象的对象。工厂模式根据不同的参数来实现不同的分配方案和创建对象。

在工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个`共同的接口`来指向新创建的对象。例如用工厂来创建 `人` 这个对象，如果我们需要一个男人对象，工厂就会为我们创建一个男人；如果我们需要一个女人，工厂就会为我们生产一个女人。

##### 工厂模式通常分为：

- **普通工厂模式**

  在普通工厂方法模式中，如果传递的字符串出错，则不能正确创建对象。

- **多个工厂方法模式**

  多个工厂方法模式是提供多个工厂方法，分别创建对象。

- **静态工厂方法模式**

  将上面的多个工厂方法模式里的方法置为静态的，不需要创建实例，直接调用即可。

==该类的静态方法是程序启动时自动放在内存中了的，是属于程序的公共内存（但只能访问）==

##### 总结：

凡是出现了大量的产品需要创建，并且具有共同的接口时，可以通过工厂方法模式进行创建。在以上的三种模式中，第一种如果传入的字符串有误，不能正确创建对象，第三种相对于第二种，不需要实例化工厂类，所以，大多数情况下，我们会选用第三种——静态工厂方法模式。



#### 抽象工厂模式

#### 单例模式

#### 建造者模式

#### 原型模式



### **结构型模式**

#### 适配器模式

#### 装饰器模式、

#### 代理模式

#### 外观模式

#### 桥接模式

#### 组合模式

#### 享元模式

### **行为型模式**

#### 策略模式

#### 模板方法模式

#### 观察者模式

#### 迭代子模式

#### 责任链模式

#### 命令模式

 #### 备忘录模式

#### 状态模式

#### 访问者模式

#### 中介者模式

#### 解释器模式